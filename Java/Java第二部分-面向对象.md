# 第一章 面向对象思想

## 1.1 面向对象思想概述

+ 两种思想：
  1. 面向过程：实现一个功能的时候，每一个具体步骤都要亲力亲为，详细处理每一个细节。
  2. 面向对象：实现一个功能的时候，不关心具体步骤，找一个已经具有该功能的部分。
  
---------
## 1.2 类和对象
+ 类是一组相关属性和行为的集合。
  + 属性：该事物的状态信息。
  + 行为：该事物能做什么。
+ 类是对一类事物的描述，是**抽象的**；
+ 对象是一类事物的实例，是**具体的**；
+ **类是对象的模板，对象是类的实体**。

---------
## 1.3 类的定义
+ 定义一个类——学生，其中有两个组成部分：
  1. 成员变量（属性）：姓名、年龄  
  2. 成员方法（行为）：吃饭、睡觉、学习
```java
public class Student{
  
  //成员变量
  String name;//姓名
  int age;//年龄
  
  //成员方法
  public void eat(){
    System.out.println("吃饭");//吃饭，没有static
  }
  public void sleep(){
    System.out.println("睡觉");//睡觉
  }
  public void study(){
    System.out.println("学习");//学习
  }
}
```
+ 注意事项：
  1. 成员变量时直接定义在类当中的，在方法外；
  2. 成员方法不要写`static`关键字
---------
## 1.4 类、对象的使用
+ 通常情况下，一个类不能直接使用，需要创建一个对象才能使用。
+  对象的使用流程

1. 导包：指出需要使用的类在什么位置；

```java
//导包格式如下
import 包名称.类名称;
//和当前类属于同一个包，可以省略导包语句
```
2. 创建：

```java
//创建格式
类名称 对象名 = new 类名称();
Student stu = new Student();
```
3. 使用：分为两种情况：
```java
//使用成员变量
对象名.成员变量名
//使用成员方法
对象名.成员方法名(参数)
//总结：想用谁，就用 对象名.xx
```
-------
## 1.5 对象与方法
+ 对象可作为方法的参数
  + 对象可作为方法的参数，传递进去的也是**地址值**。
  + 任何数据类型都可作为方法的参数，***对象***作为参数传递到方法中，传递的都是地址值。
+ 对象可作为方法的返回值

-------
## 1.6 成员变量与局部变量
+ 区别  

种类|局部变量|成员变量
:--:|:--:|:--:
**定义位置**|方法内部|方法外部
**作用范围**|只有方法中|整个类通用
**默认值**|没有默认值|默认值规则同数组
内存位置不同|位于栈中|位于堆中
生命周期|随着方法进出栈|随着对象创建、垃圾回收

# 第二章 封装
+ 面向对象三大特征：封装、继承、多态
-------
## 2.1 封装性

+ 封装性在Java中的体现：
  1. 方法就是一种封装
  2. 关键字`private`也是一种封装

## 2.2 `private`的用法

+ private是修饰语，放在最前面。
+ 一旦使用private进行修饰，那么本类当中仍然可以随意访问，但超出本类范围不能**直接**访问。
+ **间接**访问private成员变量，就是定义一对Getter/Setter方法，可以在方法中设置限制。
  + 必须写成`setXxx`或者`getXxx`；
  + Getter不能有参数，返回值和成员变量对应；
  + Setter不能有返回值，参数类型和成员变量对应。
  + 注意：对于基本类型的boolean值，Getter方法要写成`isXxx`

## 2.3 `this`的用法

+ 当方法的局部变量和类的成员变量重名，会根据就近原则，优先使用**局部变量**。

+ 如果需要访问**成员变量**，可使用格式`this.成员变量名`。

+ 通过谁调用的方法，谁就是`this`。

  ```java
  per.sayHello("马云");
  //per调用了sayHello，sayHello里的this指per，this.name指per.name。
  ```




# 第三章 继承性

## 3.1 基本概念

+ 继承是多态的前提。
+ 主要解决的问题是：**共性抽取**。
+ 父类/基类/超类----子类/派生类
+ 继承关系的特点：
  1. 子类可以拥有父类的“内容”；
  2. 子类可以拥有自己专有的内容。



## 3.2 格式

在继承关系中，子类就是一个父类，如：讲师就是一个员工。关系：is-a。



```java
// 定义父类格式（一个普通的类定义）
public class 父类名称{
    ...
}

// 定义子类格式
public class 子类名称 extends 父类名称{
    ...
}
```



## 3.3 访问规则

+ 子类可以访问父类成员变量，父类不可以访问子类成员变量；

+ 如果父类与子类成员变量重名，则创建子类时访问有两种方式：

  + 直接：直接通过子类对象访问成员变量：

    创建对象时等号左边是谁，就优先用谁，没有则向上找；

  + 间接：通过成员方式访问成员变量：

    该方法属于谁，就优先用谁，没有则向上找。

+ 如何区分三种变量重名问题：

  | 局部变量 | 本类的成员变量  |  父类的成员变量  |
  | :------: | :-------------: | :--------------: |
  |  直接写  | thsi.成员变量名 | super.成员变量名 |



```java
public class zi extends fu {
    int num = 20;
    
    public void method(){
        int num = 30;
        System.out.println(num); // 30
        System.out.println(this.num); // 20
        System.out.println(super.num); // 10
    }
    
}
```



## 3.4 继承方法的访问特点

+ 在父子类的继承关系当中，创建子类对象，访问成员方法的规则：

  创建的对象是谁，就优先用谁，如果没有则向上找。

+ 注意事项：

  无论是成员方法还是成员变量，如果没有都是向上找父类，绝对不会向下找子类。



## 3.5  重写(Override)

+ 概念：在继承关系中，方法的名称一样，参数列表也一样。

|                          | 方法名称 | 参数列表 |
| :----------------------: | :------: | :------: |
| 重写(Override)/覆盖/覆写 |   一样   |   一样   |
|      重载(Overload)      |   一样   |  不一样  |

+ 方法的覆盖重写特点：创建的是子类对象，则优先用子类。

+ 注意事项：

  1. 必须保证 父子类直接方法名称相同，参数列表也相同。在**方法**前面写上`Override`，可以检测是否重写成功，不成功则会报错。建议能写都写上。

  ```java
  	@Override
  	public void method(){
          ...
      }
  ```

  2. 子类方法的返回值必须**小于等于**父类返回值范围。

  java.lang.Object类是所有类的公共最高父类。

  3. 子类方法的权限必须大于等于父类方法的权限修饰符。

  `public >protected>(default)>private`

+ 应用场景：对于已经投入使用的类，尽量不要进行修改，推荐定义一个新的类，来重复利用其中共性内容，并且添加改动。



## 3.6 构造(Constructor)

+ 继承关系中，父子类构造方法的访问特点：

  1. 子类构造方法中有一个默认隐含的`super()`调用，所以一定是先调用的的父类构造，后执行的子类构造。
  2. 子类构造可以通过`super`关键字来调用父类重载构造。如：  

  ```java
  // 父类没有无参构造，只有：
  public Fu(int num){   
  
  }
  
  // 子类具有无参构造，但自带super()，为了避免报错，可以：
  public Zi(){
      super(10);
  }
  ```

  

  3. `super`的父类构造调用，必须是子类构造方法的**第一个语句**；

  总结：子类必须调用父类构造方法，不写则赠送`super()`，写了则用指定的调用。



## 3.7 super关键字

super关键字的用法有三种：

1. 在子类的成员方法中，范文父类的成员变量，如`super.num`；
2. 在子类的成员方法中，访问父类的成员方法，如`super.method()`;
3. 在子类的构造方法中，访问父类的构造方法，如`super()`。



## 3.8 this关键字

super关键字用来访问父类内容，而this关键字用来访问本类内容。用法也有三种：

1. 在本类的成员方法中，访问本类的成员变量（**典型用法**，用于局部变量与成员变量重名时）；

2. 在本类的成员方法中，访问本类的另一个成员方法，如：

   ```java
   public void methodA(){
       ...
   }
   
   public void methodB(){
       this.methodA;
       ...
   }
   ```

3. 在本类的构造方法中，访问本类的另一个构造方法；

   注意：

   1. `this()`也必须是构造方法的第一个语句；

   2. `this()`和`super()`不能同时使用，不再赠送`super()`。

      

## 3.9 继承性的三个特点

1. Java语言是**单继承**的，即一个类的直接父类只能有一个；
2. Java语言可以**多级继承**，java.lang.Object处于最高层；

3. 一个父类可以有很多个子类



# 第四章 多态性(polymorphism/multi)

`extends`的继承或者`implements`的实现是多态性的前提。

一个对象拥有多种形态，这就是**对象的多态性**。



## 4.1多态性的体现

代码当中体现多态性，其实就是一句话：父类引用指向子类对象。

格式：

```java
父类名称 对象名 = new 子类名称();
```



## 4.2 成员变量访问

+ 访问成员变量的两种方式：

  1. 直接通过对象名称访问成员变量：看等号左边是谁，优先用谁，没有则向上找；如果父类没有定义，则不能使用（不会向下找）；

  2. 简介通过成员方法访问成员变量：看该方法属于谁，优先用谁，没有则向上找。如果子类没有重写，就是父类方法。



## 4.3 成员方法使用

+ 多态代码中，成员方法的访问规则是：

  看new的是谁，就优先用谁，没有则向上找。

+ 成员方法口诀：编译看左边，运行看右边。

  编译看左边：只能运行父类的方法，否则报错，不能编译；

  运行看右边：如果有重名方法，运行时先运行子类方法。

+ 成员变量：编译看左边，运行还看左边。



## 4.4 多态性的作用

好处：无论右边new的哪个子类对象，等号左边调用方法都不会变化。

### 对象的向上转型

+ 对象的向上转型，就是多态写法：

  ```java
  父类名称 对象名 = new 子类名称();
  ```

+ 含义：右侧创建一个子类对象，把它当做父类来看待使用。

+ 注意事项：向上转型一定是安全的。



### 对象的向下转型

+ 向上转型一定安全，但有一定弊端：

  对象一旦向上转型为父类，就无法使用子类原本特有内容。

+ 解决方案：用对象的向下转型还原。

+ 格式：

  ```java
  子类名称 对象名 = (子类名称) 父类对象
  ```

+ 含义：将父类对象还原成为**本来的**子类对象。

  ```java
  Animal animal = new Cat();
  Cat cat = (Cat) animal;
  ```

+ 注意事项：

  1. 必须保证对象本来创建的时候就是某子类，才能向下转型为该子类；

  2. 如果对象创建的时候本来不是该子类，向下转型为该子类，就会报错: `ClassCastException`。

     类似：`int num = (int) 10.5;//不行，精度损失`



## 4.5 `instanceof`关键字

如何判断一个父类引用的对象，本来是什么子类？

格式：

```java
对象 instanceof 类型;//得到一个boolean结果
```







# 第五章 构造

## 5.1 构造方法(Cosntructor)

+ 构造方法是专门用来创建对象的方法，当我们通过关键字new来创建对象时，其实就在调用构造方法（此前学习过程中遇到的默认是无参）。

+ 构造方法的格式：

  ```java
  public 类名称(参数类型 参数名称){
    方法体
  }
  ```

+ 注意事项：

  1. 构造方法的名称必须和所在的**类名称**完全一样，区分大小写；
  2. 构造方法**不要写**返回值类型，连`void`都不写;
  3. 构造方法不能return具体返回值；
  4. 如果没有编写任何构造方法，编译器会赠送一个，没有参数，方法体什么事情都不做；
  5. 一旦编写了至少一个构造方法，编译器不再赠送，可再写一个无参方法；
  6. 一个类可以构造多个方法，方法可以重载。

## 5.2 定义一个标准的类(Java Bean)

+ 一个标准的类通常有下面四个部分，可用`代码→生成`或者`CMD+N`快捷键构造：
  1. 所有成员变量都要使用private来私有化修饰
  2. 为每一个成员变量编写一对Getter/Setter；
  3. 编写一个无参数的构造方法
  4. 编写一个全参数的构造方法
+ 这样一个标准的类也叫做Java Bean。





